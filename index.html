<!DOCTYPE html>
<html>

	<head>
		<script type="text/javascript" src="jquery-1.9.0.min.js"></script>
	</head>

	<body>

		<h2>Find a school near you!</h2>
		<p>Enter your zip code and click submit</p>

		<input class="zipcode-input" name="input">
		<button class="submit-button" type="submit">Search!</button>

		<div class="results">

		</div>

		<script type="text/javascript">

			var schoolData = $.parseJSON('{"meta": {"code": 200}, "results": [{"zip": 13329, "city": "Dolgeville", "lat": 43.1022, "gsid": 3600001, "name": "James A Green High School", "country": "US", "state": "NY", "lon": -74.7759, "street": "38 Slawson St"}, {"zip": 13329, "city": "Dolgeville", "lat": 43.1022, "gsid": 3600002, "name": "Dolgeville Elementary School", "country": "US", "state": "NY", "lon": -74.7759, "street": "38 Slawson St"}, {"zip": 13456, "city": "Sauquoit", "lat": 42.9885, "gsid": 3600003, "name": "Sauquoit Valley High School", "country": "US", "state": "NY", "lon": -75.2534, "street": "2601 Oneida St"}, {"zip": 13456, "city": "Sauquoit", "lat": 42.9885, "gsid": 3600004, "name": "Sauquoit Valley Elementary School", "country": "US", "state": "NY", "lon": -75.2534, "street": "2601 Oneida St"}, {"zip": 13456, "city": "Sauquoit", "lat": 42.9885, "gsid": 3600005, "name": "Sauquoit Valley Middle School", "country": "US", "state": "NY", "lon": -75.2534, "street": "2601 Oneida St"}, {"zip": 13684, "city": "Russell", "lat": 44.3609, "gsid": 3600006, "name": "Edwards-Knox Elementary School", "country": "US", "state": "NY", "lon": -75.1283, "street": "2512 County Hwy 24"}, {"zip": 12303, "city": "Schenectady", "lat": 42.7755, "gsid": 3600008, "name": "Draper Middle School", "country": "US", "state": "NY", "lon": -73.953, "street": "2070 Curry Rd"}, {"zip": 11713, "city": "Bellport", "lat": 40.7596, "gsid": 3600020, "name": "Bellport Middle School", "country": "US", "state": "NY", "lon": -72.9432, "street": "35 Kreamer St"}, {"zip": 14572, "city": "Wayland", "lat": 42.563, "gsid": 3600038, "name": "Wayland Elementary School", "country": "US", "state": "NY", "lon": -77.6028, "street": "2350 Rt 63"}, {"zip": 13054, "city": "Durhamville", "lat": 43.1273, "gsid": 3600045, "name": "Durhamville School", "country": "US", "state": "NY", "lon": -75.6772, "street": "5462 Main St"}]}');

			$(document).ready(function(){
				console.log(schoolData);

				if("geolocation" in navigator){
					navigator.geolocation.getCurrentPosition(function(posistion){
						var schoolsList = schoolData.results;
						$('.results').empty();
						for(var index = 0; index < schoolsList.length; index++){
							if(schoolsList[index].lat == posistion.latitue && schoolsList[index].lon == posistion.longtitude){
								$('.results').append('<p>' + schoolsList[index].name + "</p>");
							}
						}						
					});
				}

				$('.submit-button').click(function(){
					var zipcode = $('.zipcode-input').val();
					var schoolsList = schoolData.results;
					$('.results').empty();
					for(var index = 0; index < schoolsList.length; index++){
						if(schoolsList[index].zip == zipcode){
							$('.results').append('<p>' + schoolsList[index].name + "</p>");
						}
					}
				});
			});

		</script>

	</body>

</html>